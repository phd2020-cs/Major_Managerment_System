<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>全国普通话考试-江西科技师范大学报名点</title>

<!-- CSS -->

<link rel="stylesheet" href="./css/bootstrap.min.css">
<link rel="stylesheet" href="./css/font-awesome.min.css">
<link rel="stylesheet" href="./css/form-elements.css">
<link rel="stylesheet" href="./css/style.css">
<link rel="stylesheet" href="./css/fileinput.min.css">
<style>
 #container{BORDER-RIGHT: 2px dashed #000000; 
BORDER-TOP: 2px dashed #000000; 
BORDER-LEFT: 2px dashed #000000; 
WIDTH: 80%; 
BORDER-BOTTOM: 2px dashed #000000;
 HEIGHT: 100%"
 }
</style>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
</head>
<body>

	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#navbar" aria-expanded="false"
					aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Project name</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li><a href="#bm" data-toggle="tab">报名</a></li>
					<li><a href="#bmquery" data-toggle="tab">报名结果查询</a></li>
					<li><a href="#about">培训查询</a></li>
					<li><a href="#contact">成绩查询</a></li>
                    <li><a href="#teacher" data-toggle="tab">教师管理页面</a></li>

				</ul>
			</div>
			<!--/.nav-collapse -->
		</div>
	</nav>
	<div id="myTabContent" class="tab-content">
		<!-- Top content -->

		<div class="tab-pane fade in active" id="bm">

			<div class="inner-bg">
				<div class="container" id="container">
					<div class="row">
						<div>
							<h1>全国普通话考试-江西科技师范大学报名点</h1>

						</div>
					</div>
					<div class="row">
						
							<div class="form-top" style="width:52%;margin:10px auto;">
								<div class="form-top-left">
									<h3>报名</h3>
									<p>请按照实际情况填下以下信息:</p>
								</div>								
							</div>
							<div class="form-horizontal">
								<form role="form" action="" method="post" class="registration-form">								
									<div class="form-group">	
									    <div class="form-inline">										
										<input
											type="text" name="student_name" placeholder="姓名..."
											class="form-control" id="student_name">	
										<input
											type="text" name="student_phone" placeholder="手机号..."
											class="" id="student_phone">																
										
									
									</div>
									</div>
									<div class="form-group">
									 <div class="form-inline">
										<label class="sr-only" for="form-last-name">学号</label> <input
											type="text" name="student_id" placeholder="学号..."
											class="form-last-name form-control" id="student_id">
		
										<label class="sr-only" for="form-email">证件号</label> <input
											type="text" name="id_no" placeholder="证件号..."
											class="form-email" id="id_no">
									</div>
									</div>
									<div class="form-group">
                                     
                                       <div class="form-inline">	  
										<select id="sf" title="是否师范生..." name="sf"
											class="selectpicker bla bla bli" 
											data-live-search="true" data-width="25%">                     
											<option>123</option>                     
											<option>456</option>                     
											<option>789</option>                     
											</optgroup>                  
										</select>
											
										<select id="classrate" title="请选择班级..." name="classrate"
											class="selectpicker bla bla bli" 
											data-live-search="true" data-width="25%">                     
											<option>123</option>                     
											<option>456</option>                     
											<option>789</option>                     
											</optgroup>                  
										</select>
										</div>
									</div>	
									<div class="form-group">
                                     
                                       <div class="form-inline">	  
										<select id="grade" title="请选择学级..." name="grade"
											class="selectpicker bla bla bli" 
											data-live-search="true" data-width="25%">                     
											<option>123</option>                     
											<option>456</option>                     
											<option>789</option>                     
											</optgroup>                  
										</select>
											
										<select id="college" title="请选择学院..." name="college"
											class="selectpicker bla bla bli" 
											data-live-search="true" data-width="25%">                     
											<option>123</option>                     
											<option>456</option>                     
											<option>789</option>                     
											</optgroup>                  
										</select>
										</div>
									</div>								
									<div class="form-group">
									 <div class="form-inline">
										<select id="field" title="请选择专业..." name="field"
											class="selectpicker bla bla bli" 
											data-live-search="true" data-width="25%"> 											
											<optgroup>                     
											<option>123</option>                     
											<option>456</option>                     
											<option>789</option>                     
											</optgroup>                  
										</select>
									<select id="train" title="请选择期望培训地点..." name="train"
											class="selectpicker bla bla bli" 
											data-live-search="true" data-width="25%">                     
											<option>123</option>                     
											<option>456</option>                     
											<option>789</option>                     
											</optgroup>                  
										</select>
										</div>
										</div>
									<div class="form-group">
                                     
                                       <div class="form-inline">	  
										<select id="sex" title="请选择性别..." name="sex"
											class="selectpicker bla bla bli" 
											data-live-search="true" data-width="25%">                     
											<option>123</option>                     
											<option>456</option>                     
											<option>789</option>                     
											</optgroup>                  
										</select>
											
										<select id="nation" title="请选择民族..." name="nation"
											class="selectpicker bla bla bli" 
											data-live-search="true" data-width="25%">                     
											<option>123</option>                     
											<option>456</option>                     
											<option>789</option>                     
											</optgroup>                  
										</select>
										</div>
									</div>	
									<button type="submit" class="btn">提交报名</button>
								</form>
							</div>
						</div>
					</div>
				
			</div>

		</div>
		<div class="tab-pane fade in active" id="bmquery">

			<div class="inner-bg">
				<div class="container">
					<div class="row">
						<div class="col-sm-8 col-sm-offset-2 text">
							<h1>全国普通话考试-江西科技师范大学报名点</h1>

						</div>
					</div>
					<div class="row">
						<div class="col-sm-6 book">
							<div class="form-top-left">
								<h3>报名须知</h3>
								<p>1.仅允许江西科技师范大学在校师生报考:</p>
								<p>2.请填写有效的学号以及身份证件:</p>
								<p>3:</p>
								<p>4:</p>
								<p>5:</p>
							</div>
						</div>
						<div class="col-sm-5 form-box">
							<div class="form-top">
								<div class="form-top-left">
									<h3>说明</h3>
									<p>请输入您的证件号查看报名结果:</p>
								</div>
								<div class="form-group">
									<label class="sr-only" for="form-first-name">First
											name</label> <input type="text" name="form-first-name"
											placeholder="证件号" class="form-first-name form-control"
											id="form-first-name">
								</div>
								<button type="submit" class="btn">查看结果</button>
							</div>
							<div class="form-bottom">
							<div class="form-top-left">
									<h3>查询结果展示：</h3>
								</div>
			
									<div class="form-group">
										
										<input type="text" name="form-last-name1"
											placeholder="学号..."
											class="form-last-name1 form-control" id="form-last-name1">
									</div>
									<div class="form-group">
										
										<input type="text" name="form-last-name1"
											placeholder="考试姓名..."
											class="form-last-name1 form-control" id="form-last-name1">
									</div>
									<div class="form-group">
										
										<input type="text" name="form-last-name1"
											placeholder="证件号..."
											class="form-last-name1 form-control" id="form-last-name1">
									</div>
									<div class="form-group">
										
										<input type="text" name="form-last-name1"
											placeholder="报名结果..."
											class="form-last-name1 form-control" id="form-last-name1">
									</div>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
		<div class="tab-pane fade in active" id="teacher">

			<div class="inner-bg">
				<div class="container">
					<div class="row">
						<div class="col-sm-8 col-sm-offset-2 text">
							<h1>全国普通话考试-江西科技师范大学后台管理页面</h1>

						</div>
					</div>
					<div class="row">
						<div class="col-sm-6 book">
							<div class="form-top-left">
								<h3>操作须知</h3>
								<p>1.仅允许江西科技师范大学后台管理老师使用:</p>
								<p>2.目前提供导出报名信息和培训信息:</p>
								<p>3:</p>
								<p>4:</p>
								<p>5:</p>
							</div>
						</div>
						<div class="col-sm-5 form-box">
							<div class="form-top">
								<div class="form-top-left">
									<h3>说明</h3>
									<p>请输入考试时间导出报名结果:</p>
								</div>
								<div class="form-group">
									 <input type="text" name="form-first-name"
											placeholder="考试时间" class="form-first-name form-control"
											id="form-first-name">
								</div>
								<button type="submit" class="btn">导出报名信息</button>
							</div>
							<div class="form-bottom">
							
					
																<div class="form-group">
								
								<form role="form" action="" method="post" enctype="multipart/form-data" 
								id="manager"	class="registration-form1">
									<div class="form-group">								
											<input name="file" type="file"
											 class="file form-control">
									</div>
									
									<button type="submit" class="btn1">导入教务信息</button>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
	<!-- Javascript -->
	<script src="./js/jquery-1.11.1.min.js"></script>
	<script src="./js/bootstrap.min.js"></script>
	<script src="./js/jquery.backstretch.min.js"></script>
	<script src="./js/retina-1.1.0.min.js"></script>
	<script src="./js/scripts.js"></script>
		<script src="./js/fileinput.min.js"></script>
	
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.7/dist/css/bootstrap-select.min.css">

	<!-- Latest compiled and minified JavaScript -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.7/dist/js/bootstrap-select.min.js"></script>

	<!-- (Optional) Latest compiled and minified JavaScript translation files -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.7/dist/js/i18n/defaults-*.min.js"></script>
	<!--[if lt IE 10]>
            <script src="assets/js/placeholder.js"></script>
        <![endif]-->

</body>
<script>
	$(function() {
		$('a[data-toggle="tab"]').on('show.bs.tab', function(e) {
			//alert(e.target.html) // 激活的标签页
			//e.relatedTarget // 前一个激活的标签页
			  alert('你选择了tab');
var a = e.target.href;
			if(a.substr(a.lastIndexOf('#')+1,2)=='bm')
				{
				$.ajax({
	                type : 'POST',
	                url : "http://127.0.0.1:8080/SpringSpringmvcMybatis/queryGradeList",
	                data : '',
	                dataType: 'json',
	                success : function(data)
	                {
	                	debugger;
	           
				$.each(data.college, function (i) {

                    $('#college').append("<option value=" + data.college[i].name + ">" + data.college[i].name + "</option>");
                    //$('#field').append("<option value=" + data.field[i].name + ">" + data.field[i].name + "</option>");

                   // $('#grade').append("<option value=" + data.grade[i].name + ">" + data.grade[i].name + "</option>");


                });
				$('#college').selectpicker('refresh');
				$.each(data.field, function (i) {

                    //$('#college').append("<option value=" + data.college[i].name + ">" + data.college[i].name + "</option>");
                    $('#field').append("<option value=" + data.field[i].name + ">" + data.field[i].name + "</option>");

                    //$('#grade').append("<option value=" + data.grade[i].name + ">" + data.grade[i].name + "</option>");


                });
				$('#field').selectpicker('refresh');
				$.each(data.grade, function (i) {

                    //$('#college').append("<option value=" + data.college[i].name + ">" + data.college[i].name + "</option>");
                   // $('#field').append("<option value=" + data.field[i].name + ">" + data.field[i].name + "</option>");

                    $('#grade').append("<option value=" + data.grade[i].name + ">" + data.grade[i].name + "</option>");


                });
				$('#grade').selectpicker('refresh');
							//$('#college').append("<option value=" + data.college[0].name + ">" + data.data[i].schoolname + "</option>");
	                }
	            })
				
				}
		})
	});
	
</script>
<script type="text/javascript">
	$(function() {
		//新增点击tab功能。
		$('a[href="#bm"]').tab('show');
	});
	</script>
<script type="text/javascript">
	$(function() {
		$('.btn1').click(function() {
			debugger
			var formData = new FormData($('#manager')[0]);
			debugger;
			$.ajax({
				type : 'POST',
				url : 'http://127.0.0.1:8080/SpringSpringmvcMybatis/uploadExcel',
				data : formData,
				cache : false,
				processData : false,
				contentType : false,
 
			}).success(function(data) {
				var result = JSON.parse(data);
				alert(result.back);
			}).error(function() {
				alert("上传失败");
 
			});
		});
	});
	</script>

<script type="text/javascript">
	$(function() {
		$('.btn2').click(function() {
			debugger
			var formData = new FormData($('#manager')[0]);
			debugger;
			$.ajax({
				type : 'POST',
				url : 'http://127.0.0.1:8080/SpringSpringmvcMybatis/querybmdetail,
				data : formData,
				cache : false,
				processData : false,
				contentType : false,
 
			}).success(function(data) {
				var result = JSON.parse(data);
				alert(result.back);
			}).error(function() {
				alert("上传失败");
 
			});
		});
	});
	</script>

<script>
    $(function(){
        // 给登录按钮增加事件监听
        $('.btn').click(function(){
 
          
            // 1 获取表单的数据【一般会在javascript中进行验证】
            // 2 使用ajax方法进行提交
            // 3 根据服务器的返回值进行操作（具体局部刷新操作）
 
            // 1.挨个获取
           // var _name = $('input[name="form-last-name"]').val();
           // var _password = $('input[name="form-first-name"]').val();
 
            // 2.使用jq的serialize()
            // alert($('.login').serialize());
            //alert(_password);
 
            //todo::前端js数据验证
 
            $.ajax({
                type : 'POST',
                url : "http://127.0.0.1:8080/SpringSpringmvcMybatis/registry",
                data : $('.registration-form').serialize(),
                dataType: 'json',
                success : function(data)
                {
                	debugger;
                    console.log(data);
						alert(data.msg);
                    if(data.status == 0)
                    {
                        $('.error-tips').text(data.msg).show();
                    }
                    else
                    {
                        $('.success-tips').text(data.msg).show();
                       // setTimeout(function(){
                         //   window.location.href = "{:url('index')}";
                        //},2000);
                    }
                }
            })
 
        })
    })
</script>
</html>